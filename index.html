<body style="text-align:center;"></body>
<select id="select">
  <option value="Mesh_Rat" selected>Rat</option>
  <option value="rat enamy">Rat 2</option>
  <option value="model">Tree</option>
  <option value="cube">Cube</option>
</select>
<script type="module">
  import Scene from "https://f1redude123.github.io/Vecter/main.js";
  import Vector3 from "https://f1redude123.github.io/Vecter/Vector3.js";
  import RenderBuffer from "https://f1redude123.github.io/Vecter/RenderBuffer.js";
  import DynamicBase from "https://f1redude123.github.io/Vecter/DynamicBase.js";
  import OBJreader from "https://f1redude123.github.io/Vecter/OBJreader.js";
  
  var model = "Mesh_Rat";

  document.getElementById("select").onchange = function() {
    model = this.value;
  };
  
  var scene = new Scene(500, 300);
  
  scene.createBuffer();
  
  class Rat extends DynamicBase {
    constructor() {
    	super();
    }
    static tick() {
    	fetch(`https://f1redude123.github.io/Vecter/OBJs/${model}.obj`).then(e => e.text()).then(t => {
        var obj = OBJreader.readText(t);
        var verts = obj.getVerts().map(e => e.mult(new Vector3(model!="Mesh_Rat"?100:1, model!="Mesh_Rat"?100:1, model!="Mesh_Rat"?100:1)).rotateY(performance.now()/100));
        var inds = obj.getInds();
  
        scene.loadBuffer(0, verts, inds);
        scene.ctx.fillStyle = ["#f00", "#f70", "#ff0", "#0f0", "#0ff", "#00f", "#f0f"][Math.round(performance.now()/100)%6];
        scene.renderBuffer(0);
  
        super.tick();
      });
    }
  }
  
  Rat.tick();
</script>
